(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{209:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),i=n(18),o=n.n(i),c=(n(78),n(7)),s=n(13),l=n(25),u=n(24),m=n(26),d=n(212),h=n(211),p=n(70),f=(n(80),n(15)),b=n.n(f),g=n(72),v=n(1),E=n(65),y=n.n(E),w=n(66),j=n.n(w),O=n(33),S=n.n(O),x=function(){function e(){var t=this;Object(c.a)(this,e),this.loading=!0,this.people=[],this.viewing=30,this.orderBy="id",this.orderDirection="asc",this.filter="",this.todo={id:1,object:{},error:!1,loading:!1},this.init=function(){t.fetchTodo(),t.fetchPeople()},this.fetchPeople=Object(v.flow)(b.a.mark(function e(){var t,n;return b.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return this.loading=!0,e.next=3,fetch("https://uinames.com/api/?region=bosnia%20and%20herzegovina&amount=150&ext");case 3:return t=e.sent,e.next=6,t.json();case 6:n=e.sent,this.people.replace(n.map(function(e){return Object(g.a)({},e,{id:S()()})})),this.loading=!1;case 9:case"end":return e.stop()}},e,this)})),this.fetchTodo=Object(v.flow)(b.a.mark(function e(){var t;return b.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,this.todo.loading=!0,e.next=4,fetch("https://jsonplaceholder.typicode.com/todos/".concat(this.todo.id));case 4:if(200===(t=e.sent).status){e.next=7;break}throw t;case 7:return e.next=9,t.json();case 9:this.todo.object=e.sent,this.todo.error=!1,e.next=16;break;case 13:e.prev=13,e.t0=e.catch(0),this.todo.error=!0;case 16:return e.prev=16,this.todo.loading=!1,e.finish(16);case 19:case"end":return e.stop()}},e,this,[[0,13,16,19]])})),this.fetchTodoDebounced=y()(this.fetchTodo,1e3),this.setViewing=function(e){t.viewing=e},this.setFilter=function(e){t.filter=e},this.setTodoId=function(e){t.todo.id=e},this.setOrderBy=function(e){t.orderBy=e},this.toggleDirection=function(){t.orderDirection="asc"===t.orderDirection?"desc":"asc"},this.r=Object(v.reaction)(function(){return t.todo.id},function(e){return t.fetchTodoDebounced()},{name:"fetch todo reaction"})}return Object(s.a)(e,[{key:"filtered",get:function(){var e=this;return this.people.filter(function(t){var n=t.name,a=t.surname;return"".concat(n," ").concat(a).toLowerCase().includes(e.filter.toLowerCase())})}},{key:"ordered",get:function(){return j()(this.filtered,[this.orderBy],[this.orderDirection])}},{key:"sliced",get:function(){return this.ordered.slice(0,this.viewing)}}]),e}();Object(v.decorate)(x,{loading:v.observable,people:v.observable.shallow,viewing:v.observable,filter:v.observable,todo:v.observable,orderBy:v.observable,orderDirection:v.observable,setViewing:v.action,setFilter:v.action,init:v.action,fetchPeople:v.action.bound,fetchTodo:v.action.bound,setTodoId:v.action,setOrderBy:v.action,toggleDirection:v.action,ordered:v.computed,filtered:v.computed,sliced:v.computed});var M=x,C=function e(t){var n=this;Object(c.a)(this,e),this.location={},this.match={},this.history={},this.init=function(){},this.setRoute=function(e,t,a){n.location=e,n.match=t,n.history=a},this.rootStore=t};Object(v.decorate)(C,{location:v.observable,match:v.observable,history:v.observable,setRoute:v.action,init:v.action});var k=C,N=n(71),D=function(e){return new Promise(function(t,n){setTimeout(function(){t()},e)})},_=function(){function e(t){var n=this;Object(c.a)(this,e),this.init=function(){Object(v.reaction)(function(){return n.rootStore.mainStore.todo.object},function(e){return n.pushMessage("Fetched todo with ID: ".concat(e.id))}),Object(v.reaction)(function(){return n.rootStore.mainStore.people.map(function(e){return e.id})},function(e){return n.pushMessage("Got new people")})},this.messageMap=new Map,this.pushMessage=Object(v.flow)(b.a.mark(function e(t){var n,a,r=arguments;return b.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=r.length>1&&void 0!==r[1]?r[1]:5e3,a=S()(),this.messageMap.set(a,t),e.next=5,D(n);case 5:this.messageMap.delete(a);case 6:case"end":return e.stop()}},e,this)})),this.deleteMessage=function(e){n.messageMap.delete(e)},this.clearMessages=function(){n.messageMap.clear()},this.rootStore=t}return Object(s.a)(e,[{key:"messages",get:function(){return Array.from(this.messageMap).map(function(e){var t=Object(N.a)(e,2);return{id:t[0],text:t[1]}}).reverse()}}]),e}();Object(v.decorate)(_,{messageMap:v.observable,pushMessage:v.action.bound,clearMessages:v.action.bound,deleteMessage:v.action.bound,init:v.action,messages:v.computed});var B=_,F=n(8);function T(){return(T=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e}).apply(this,arguments)}var I=r.a.createElement("rect",{y:10,width:15,height:120,rx:6},r.a.createElement("animate",{attributeName:"height",begin:"0.5s",dur:"1s",values:"120;110;100;90;80;70;60;50;40;140;120",calcMode:"linear",repeatCount:"indefinite"}),r.a.createElement("animate",{attributeName:"y",begin:"0.5s",dur:"1s",values:"10;15;20;25;30;35;40;45;50;0;10",calcMode:"linear",repeatCount:"indefinite"})),P=r.a.createElement("rect",{x:30,y:10,width:15,height:120,rx:6},r.a.createElement("animate",{attributeName:"height",begin:"0.25s",dur:"1s",values:"120;110;100;90;80;70;60;50;40;140;120",calcMode:"linear",repeatCount:"indefinite"}),r.a.createElement("animate",{attributeName:"y",begin:"0.25s",dur:"1s",values:"10;15;20;25;30;35;40;45;50;0;10",calcMode:"linear",repeatCount:"indefinite"})),L=r.a.createElement("rect",{x:60,width:15,height:140,rx:6},r.a.createElement("animate",{attributeName:"height",begin:"0s",dur:"1s",values:"120;110;100;90;80;70;60;50;40;140;120",calcMode:"linear",repeatCount:"indefinite"}),r.a.createElement("animate",{attributeName:"y",begin:"0s",dur:"1s",values:"10;15;20;25;30;35;40;45;50;0;10",calcMode:"linear",repeatCount:"indefinite"})),V=r.a.createElement("rect",{x:90,y:10,width:15,height:120,rx:6},r.a.createElement("animate",{attributeName:"height",begin:"0.25s",dur:"1s",values:"120;110;100;90;80;70;60;50;40;140;120",calcMode:"linear",repeatCount:"indefinite"}),r.a.createElement("animate",{attributeName:"y",begin:"0.25s",dur:"1s",values:"10;15;20;25;30;35;40;45;50;0;10",calcMode:"linear",repeatCount:"indefinite"})),W=r.a.createElement("rect",{x:120,y:10,width:15,height:120,rx:6},r.a.createElement("animate",{attributeName:"height",begin:"0.5s",dur:"1s",values:"120;110;100;90;80;70;60;50;40;140;120",calcMode:"linear",repeatCount:"indefinite"}),r.a.createElement("animate",{attributeName:"y",begin:"0.5s",dur:"1s",values:"10;15;20;25;30;35;40;45;50;0;10",calcMode:"linear",repeatCount:"indefinite"})),z=function(e){return r.a.createElement("svg",T({width:135,height:140,viewBox:"0 0 135 140",fill:"#fff"},e),I,P,L,V,W)},A=(n.p,n(34)),R=n.n(A),J=n(3),X=n.n(J),q=function(e){function t(){return Object(c.a)(this,t),Object(l.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){return r.a.createElement("div",{className:X()(R.a.container,this.props.className)},r.a.createElement(z,{className:X()(R.a.icon,R.a[this.props.size])}))}}]),t}(r.a.PureComponent);q.defaultProps={size:"medium"};var G=n(68),H=n.n(G),Z=n(10),$=Object(F.observer)(function(e){var t=e.name,n=e.surname,a=e.photo;return r.a.createElement("div",{className:"person"},r.a.createElement("img",{src:a,alt:"person"}),r.a.createElement("div",null,t," ",n))}),K=Z.b.div({enter:{scale:1,opacity:1},exit:{scale:0,opacity:0}}),Q=Object(F.observer)(function(e){var t=e.people;return r.a.createElement("div",{className:"personList"},r.a.createElement(Z.a,null,t.length>0?t.map(function(e){return r.a.createElement(K,{key:e.id},r.a.createElement($,e))}):r.a.createElement(K,{key:"nope"},"No people matching criteria")))}),U=n(67),Y=n.n(U),ee=Z.b.div({enter:{scaleX:1,opacity:1},exit:{scaleX:0,opacity:0}}),te=Object(F.observer)(function(e){var t=e.messages,n=e.deleteMessage;return r.a.createElement("div",{className:"messages"},r.a.createElement(Z.a,null,t.map(function(e){var t=e.id,a=e.text;return r.a.createElement(ee,{key:t,style:{margin:"0 1em 1em"}},r.a.createElement(Y.a,{color:"warning"},r.a.createElement("button",{className:"delete",onClick:function(){return n(t)}}),a))})))}),ne=Object(F.inject)(function(e){var t=e.rootStore;return{messages:t.messagesStore.messages,deleteMessage:t.messagesStore.deleteMessage}})(te),ae=n(35),re=n.n(ae),ie=n(6),oe=n(42),ce=n.n(oe);Object(v.configure)({enforceActions:"observed"});var se=Z.b.div({enter:{scale:1,opacity:1},exit:{scale:0,opacity:0}}),le=function(e){function t(){var e,n;Object(c.a)(this,t);for(var a=arguments.length,r=new Array(a),i=0;i<a;i++)r[i]=arguments[i];return(n=Object(l.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).setViewing=function(e){var t=e.target;return n.props.mainStore.setViewing(t.value)},n.setFilter=function(e){var t=e.target;n.props.mainStore.setFilter(t.value)},n.setTodoId=function(e){var t=e.target;return n.props.mainStore.setTodoId(t.value)},n.setOrderBy=function(e){var t=e.target;n.props.mainStore.setOrderBy(t.value)},n}return Object(m.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){var e=this.props.mainStore;return r.a.createElement(r.a.Fragment,null,r.a.createElement(ne,null),r.a.createElement(re.a,{multiline:!1,className:"mainWrapper is-marginless"},r.a.createElement(re.a.Column,{className:"is-one-quarter is-paddingless"},r.a.createElement("div",{className:"sidebar"},r.a.createElement(ie.Field,null,r.a.createElement(ie.Label,null,"Filter"),r.a.createElement(ie.Control,null,r.a.createElement(ie.Input,{type:"text",value:e.filter,onChange:this.setFilter}))),r.a.createElement(ie.Label,null,"Order by"),r.a.createElement(ie.Field,{className:"is-grouped"},r.a.createElement(ie.Control,{className:"is-expanded"},r.a.createElement(ie.Select,{value:e.orderBy,onChange:this.setOrderBy,className:"is-fullwidth"},r.a.createElement("option",{value:"id"},"ID"),r.a.createElement("option",{value:"name"},"Name"),r.a.createElement("option",{value:"surname"},"Surname"))),r.a.createElement(ie.Control,null,r.a.createElement(ce.a,{onClick:e.toggleDirection},"asc"===e.orderDirection?"\ud83d\udc46":"\ud83d\udc47"))),r.a.createElement(ie.Field,null,r.a.createElement(ie.Label,null,"Length"),r.a.createElement(ie.Control,null,r.a.createElement(ie.Input,{type:"number",value:e.viewing.toString(),min:0,onChange:this.setViewing}))))),r.a.createElement(re.a.Column,{className:"main"},r.a.createElement(Z.a,{animateOnMount:!0},e.loading?r.a.createElement(se,{key:"loading"},r.a.createElement(q,{size:"large"})):r.a.createElement(se,{key:"aha"},r.a.createElement(Q,{people:e.sliced}),r.a.createElement(ce.a,{color:"primary",onClick:e.fetchPeople},"Fetch new"),r.a.createElement("div",null," ","enter todo id to fetch:",r.a.createElement("input",{type:"number",value:e.todo.id,min:0,onChange:this.setTodoId})),r.a.createElement("div",null,e.todo.error?"error":r.a.createElement(Z.a,null,e.todo.loading?r.a.createElement(se,{key:"l"},r.a.createElement(q,null)):r.a.createElement(se,{key:"m"},e.todo.object.title))))))),r.a.createElement(H.a,null))}}]),t}(a.Component),ue=Object(F.inject)(function(e){var t=e.rootStore;return{mainStore:t.mainStore,routerStore:t.routerStore,messagesStore:t.messagesStore}})(Object(F.observer)(le)),me=Object(p.a)(),de=function(e){return function(t){return function(n){function a(){return Object(c.a)(this,a),Object(l.a)(this,Object(u.a)(a).apply(this,arguments))}return Object(m.a)(a,n),Object(s.a)(a,[{key:"componentWillMount",value:function(){e.setRoute(this.props.location,this.props.match,this.props.history)}},{key:"render",value:function(){return r.a.createElement(t,this.props)}}]),a}(r.a.Component)}},he=new function e(){Object(c.a)(this,e),this.mainStore=new M(this),this.routerStore=new k(this),this.messagesStore=new B(this),this.mainStore.init(),this.routerStore.init(),this.messagesStore.init()},pe=he.routerStore,fe=Object(F.observer)(function(){return r.a.createElement(F.Provider,{rootStore:he},r.a.createElement(d.a,{history:me},r.a.createElement(r.a.Fragment,null,r.a.createElement(h.a,{exact:!0,path:"/",component:de(pe)(ue)}),r.a.createElement(h.a,{exact:!0,path:"/:id",component:de(pe)(ue)}))))});Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));o.a.render(r.a.createElement(fe,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})},34:function(e,t,n){e.exports={container:"style_container__ZtD7H",icon:"style_icon__3DITl",small:"style_small__3O7Wo",medium:"style_medium__1edst",large:"style_large__30ddS"}},73:function(e,t,n){e.exports=n(209)},78:function(e,t,n){},80:function(e,t,n){}},[[73,2,1]]]);
//# sourceMappingURL=main.cd2da8d6.chunk.js.map